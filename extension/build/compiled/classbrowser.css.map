{
  "version": 3,
  "file": "classbrowser.css",
  "sources": [
    "ClassBrowser.svelte"
  ],
  "sourcesContent": [
    "<script lang=\"ts\">let autoSearch;\nimport { onMount } from \"svelte\";\n;\nconst TypeOptions = [\n    {\n        value: \"data\",\n        label: \"Data (Class/Interface/Struct/Enum)\"\n    },\n    {\n        value: \"process\",\n        label: \"Process (Function)\"\n    },\n    {\n        value: \"container\",\n        label: \"Container (Namespace/Package/Module)\"\n    }\n];\nlet searchResults = [];\nlet searchType = \"data\";\nlet searchQuery = \"\";\nlet isLoading = false;\nonMount(async () => {\n    // this is used to recieve message from sidebar provider\n    window.addEventListener(\"message\", async (event) => {\n        const message = event.data;\n        switch (message.type) {\n            case \"result\": {\n                searchResults = message.value;\n                break;\n            }\n            case \"partial-result\": {\n                console.log(\"partial-result\", message.value);\n                // append\n                searchResults = searchResults.concat(message.value);\n                // remove duplicates\n                searchResults = searchResults.filter((value, index, self) => index === self.findIndex((t) => (t.name === value.name)));\n                break;\n            }\n            case \"results-exhausted\": {\n                console.log(\"exhausted\");\n                stopAutosearch();\n                break;\n            }\n        }\n    });\n    // this is used to send message to provider\n    // tsvscode.postMessage({ type: \"get-token\", value: undefined });\n    setTimeout(() => {\n        searchAll(\"data\");\n        startAutosearch();\n    }, 3000);\n});\nfunction clearResults() {\n    searchResults = [];\n    stopAutosearch();\n    resetBackend();\n}\nfunction clearSearch() {\n    searchQuery = \"\";\n}\nfunction startAutosearch() {\n    stopAutosearch();\n    autoSearch = setInterval(() => showMore(), 1000);\n    isLoading = true;\n}\nfunction stopAutosearch() {\n    clearInterval(autoSearch);\n    isLoading = false;\n}\nfunction resetBackend() {\n    post({\n        type: \"reset\",\n        value: \"\"\n    });\n}\nfunction post(message) {\n    tsvscode.postMessage(message);\n}\nfunction search(type, query) {\n    post({\n        type: \"search-\" + type,\n        value: query\n    });\n}\nfunction searchData(query) {\n    search(\"data\", query);\n}\nfunction searchProcess(query) {\n    search(\"process\", query);\n}\nfunction searchContainer(query) {\n    search(\"container\", query);\n}\nfunction searchAll(type) {\n    post({\n        type: \"search-all\",\n        value: {\n            type,\n            query: \"*\"\n        }\n    });\n}\nfunction searchSymbol(query) {\n    if (searchType === \"data\")\n        searchData(query);\n    else if (searchType === \"process\")\n        searchProcess(query);\n    else\n        searchContainer(query);\n}\nfunction open(query) {\n    post({ type: \"open\", value: query });\n}\nfunction showMore() {\n    post({ type: \"show-more\", value: \"\" });\n}\nfunction color(kind) {\n    switch (kind) {\n        case \"Interface\":\n            return \"yellow\";\n        case \"Class\":\n            return \"aqua\";\n        case \"Struct\":\n            return \"orange\";\n        case \"Function\":\n            return \"green\";\n        case \"Namespace\":\n        case \"Module\":\n        case \"Package\":\n            return \"orange\";\n        default:\n            return \"white\";\n    }\n}\n</script>\n\n<div class=\"main\">\n<!-- <pre>\n    {JSON.stringify({searchQuery, searchType}, null, 2)}\n</pre> -->\n<div class=\"form\">\n<input bind:value={searchQuery} on:input={() => {\n    if (searchQuery === \"\"){\n        clearResults()\n        searchAll(searchType)\n    }\n    else {\n        clearResults()\n        searchSymbol(searchQuery)\n        startAutosearch()\n    }\n}} class=\"query-input\" placeholder=\"Filter by typing name\"/>\n\n<div class=\"types\">\n{#each TypeOptions as option}\n    <div class=\"type\">\n        <input type=\"radio\" id={option.value} value={option.value} \n            name=\"types\"\n            on:change={() => {\n                clearResults()\n                clearSearch()\n                searchAll(option.value)\n                startAutosearch()\n            }}\n            bind:group={searchType} class=\"input-type\"/>\n        <label for={option.value}>{option.label}</label>\n    </div>\n{/each}\n    <!-- result count -->\n    <div class=\"index-count\">\n        {searchResults.length} Indexed\n    </div>\n    <div class:loading={isLoading}>\n    </div>\n</div>\n</div>\n\n<ul class=\"browse\">\n    <!-- result -->\n\t{#each searchResults as classType}\n\t\t<li style={`color: ${color(classType?.kind.toString())};`} on:scroll={() => console.log(\"list scrolling\")} \n                on:select={() => console.log(\"select\")}>\n            <button class=\"symbol\" \n                title={classType?.kind.toString() + \" \" + classType?.name}\n                on:click={() => {\n                post({\n                    type: \"open\",\n                    value: {\n                        path: classType?.location?.uri?.path,\n                        position: classType?.location?.range[0]\n                    }\n                })\n            }}>\n                <span class=\"class\">{classType.name}</span>\n                <span class=\"container\">{classType?.containerName || \"\"}</span>\n            </button>\n        </li>\n\t{/each}\n</ul>\n</div>\n\n<style>\n    .symbol {\n        text-align: left;\n        background-color: transparent;\n        font-size: 1rem;\n        max-width: 250px;\n    }\n    .symbol:hover {\n        background-color: rgb(59, 125, 168);\n    }\n    .class {\n        text-align: left;\n        height: 300px;\n        overflow-y: scroll;\n    }\n    .main {\n        display: flex;\n        flex-direction: column;\n        position: absolute;\n        height: 100%;\n        margin: 0;\n        padding: 0.1rem;\n    }\n    .form {\n        /* height: 16%; */\n    }\n    .browse {\n        position: relative;\n        overflow-y: scroll; \n        overflow-x: hidden;\n        /* height: 82%; */\n        list-style-type: square;\n        list-style-position: inside;\n    }\n    .types {\n        margin: 0.5rem;\n    }\n    .type {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-start;\n        margin: 0.5rem;\n        cursor: pointer;\n    }\n    .type input {\n        width: 30px;\n        outline: none;\n    }\n    .loading {\n        background: url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' version='1.1' width='575' height='6px'%3E %3Cstyle%3E circle { animation: ball 2.5s cubic-bezier(0.000, 1.000, 1.000, 0.000) infinite; fill: %23bbb; } %23balls { animation: balls 2.5s linear infinite; } %23circle2 { animation-delay: 0.1s; } %23circle3 { animation-delay: 0.2s; } %23circle4 { animation-delay: 0.3s; } %23circle5 { animation-delay: 0.4s; } @keyframes ball { from { transform: none; } 20% { transform: none; } 80% { transform: translateX(864px); } to { transform: translateX(864px); } } @keyframes balls { from { transform: translateX(-40px); } to { transform: translateX(30px); } } %3C/style%3E %3Cg id='balls'%3E %3Ccircle class='circle' id='circle1' cx='-115' cy='3' r='3'/%3E %3Ccircle class='circle' id='circle2' cx='-130' cy='3' r='3' /%3E %3Ccircle class='circle' id='circle3' cx='-145' cy='3' r='3' /%3E %3Ccircle class='circle' id='circle4' cx='-160' cy='3' r='3' /%3E %3Ccircle class='circle' id='circle5' cx='-175' cy='3' r='3' /%3E %3C/g%3E %3C/svg%3E\") 50% no-repeat;\n        width: 100%; \n        padding: 10px;\n    }\n    .index-count {\n        text-align: center;\n        font-size: 1.2rem;\n    }\n</style>"
  ],
  "names": [],
  "mappings": "AA0MI,OAAO,4BAAC,CAAC,AACL,UAAU,CAAE,IAAI,CAChB,gBAAgB,CAAE,WAAW,CAC7B,SAAS,CAAE,IAAI,CACf,SAAS,CAAE,KAAK,AACpB,CAAC,AACD,mCAAO,MAAM,AAAC,CAAC,AACX,gBAAgB,CAAE,IAAI,EAAE,CAAC,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,AACvC,CAAC,AACD,MAAM,4BAAC,CAAC,AACJ,UAAU,CAAE,IAAI,CAChB,MAAM,CAAE,KAAK,CACb,UAAU,CAAE,MAAM,AACtB,CAAC,AACD,KAAK,4BAAC,CAAC,AACH,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,QAAQ,CAAE,QAAQ,CAClB,MAAM,CAAE,IAAI,CACZ,MAAM,CAAE,CAAC,CACT,OAAO,CAAE,MAAM,AACnB,CAAC,AACD,KAAK,4BAAC,CAAC,AAEP,CAAC,AACD,OAAO,4BAAC,CAAC,AACL,QAAQ,CAAE,QAAQ,CAClB,UAAU,CAAE,MAAM,CAClB,UAAU,CAAE,MAAM,CAElB,eAAe,CAAE,MAAM,CACvB,mBAAmB,CAAE,MAAM,AAC/B,CAAC,AACD,MAAM,4BAAC,CAAC,AACJ,MAAM,CAAE,MAAM,AAClB,CAAC,AACD,KAAK,4BAAC,CAAC,AACH,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,GAAG,CACnB,eAAe,CAAE,UAAU,CAC3B,MAAM,CAAE,MAAM,CACd,MAAM,CAAE,OAAO,AACnB,CAAC,AACD,mBAAK,CAAC,KAAK,cAAC,CAAC,AACT,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,AACjB,CAAC,AACD,QAAQ,4BAAC,CAAC,AACN,UAAU,CAAE,IAAI,ghCAAghC,CAAC,CAAC,GAAG,CAAC,SAAS,CAC/iC,KAAK,CAAE,IAAI,CACX,OAAO,CAAE,IAAI,AACjB,CAAC,AACD,YAAY,4BAAC,CAAC,AACV,UAAU,CAAE,MAAM,CAClB,SAAS,CAAE,MAAM,AACrB,CAAC"
}